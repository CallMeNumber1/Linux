#### 编程范式

面向结构,面向对象,函数式

#### 函数

函数是一种映射关系

- 数组是展开的函数,函数是压缩的数组.
- 函数是计算式结构,数组是记录式结构,因此算法优化时可考虑将记录式结构转化为计算式结构,可大大节省存储空间

#### scanf函数

- 返回值:成功读入的参数个数

#### fprintf(文件)

`fprintf(filename, "%d", n)`

- fprintf()函数根据指定的format(格式)发送信息(参数)到由stream(流)指定的文件.因此fprintf()可以使得信息输出到指定的文件.
- 返回值同pirntf一样,是输出的字符数.

#### sprintf(字符串)

sprintf(str, "%d", n)

存疑问

#### scanf

- 输入带空格的字符串`%[^\n]s`, 除了回车外都输入

- 格式化字符串 详见维基百科

### 第二章

#### 数学运算

- %4 = &3 %8 = &7 %6不能转化为位运算

```c
math.h
log(n) 以e为底
求以2为底的时用换底公式:log(n)/log(2)
acos(n) 求出的是弧度制
	acos(-1)是精确的PI
	x * acos(-1)/180 将角度制转化为弧度制
stdlib.h
abs(n)
```

#### 实现sqrt函数

```c
二分

牛顿迭代

在求函数零点这个问题上,牛顿迭代比二分查找要块
```

g++ -pg可以统计代码中每段函数的执行时间

## 第三章 流程控制

#### 关系运算符

- !!: 归一化 `int x = 123; int y = !!(x)`

- 表达式都有返回值
  - 条件表达式返回值只有0和1
  - 普通的表达式如`a=5`返回值为`5`
- switch case
  - 其中不允许定义变量.

```c
#define likely(x) _builtin_expect(!!(x), 1)
#define unlikely(x) _builtin_expect(!!(x), 0)
// likely 代表x经常成立
// unlikely 代表x不经常成立
cpu在执行分支条件时,会随机选择一个去执行,如果不对,再随机找到另一个分支
因此根据实际写上上面的会提高执行效率.
```

- 快速读入

```c

```

## 函数

- K&R风格函数

```c

```



- 递归程序设计
  - 明确递归函数的语义信息
  - 设置边界条件
  - 实现递归过程和处理过程
  - 设置结果返回

- 函数指针
  - 可执行程序运行时全部装入内存,只要在内存中的数据,就有地址.
  - 函数过程的执行逻辑以二进制数据的形式也放在内存中
- 变参函数
  - 参数列表中:(...)代表任意数量,任意类型

```c
获得a往后的参数列表va_list
定位a后面第一个参数的位置va_start
// num为变参列表的前一位
var_start(arg, num)
获取一个可变参数列表中的参数va_arg
// 第二个参数为要取的参数类型
var_arg(arg, int)
结束va_end
va_end(arg)
```

注:va_arg()仍然不能实现,因为它不是函数!

- `gcc -c function.c` 生成对象文件
- `gcc a.o b.o` 进行链接,将对象文件链接为可执行文件.

#### 负数的表示

- 负数是对应正数的补码(按位取反再+1)

## 数组

:date::9.25

- 数组是展开的函数(如素数筛)

#### 大端小端

小端系统,低位存在低地址位

内存,地址

- 小端系统
  - 存储时从低地址向高地址存,读取时从高地址往低地址读

- 数据类型只是程序看待内存的一种方式

***

#### 预处理命令-宏定义

- 定义符号常量
- 定义傻瓜表达式
- 定义代码段

```c

```

- 预处理命令 预定义的宏

```c
__DATE__ 程序的编译时间,可作为此程序的指纹
__TIME__
__LINE__ 行号
__FILE__
```

- 预处理命令 条件编译

```c
#ifdef DEBUG
#ifndef DEBUG
```

g++ -E a.cpp > output.cpp 预处理后的文件,编译源码.

![宏定义与函数区别](/home/chongh/下载/宏定义与函数区别.png)

## 作业

#### 实现MAX函数

```c
#define MAX(a,b) (((a) > (b)) ? (a) : (b))
// 当表达式中带有副作用,则比较大小时会计算一次,在后面计算值时也会计算一次
例如:MAX(a++, b)
// 同时,这个宏定义没有考虑传入不同类型的参数情况
    
```



